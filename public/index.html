<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dashboard | Inventory System</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header>
    <h1>ğŸ“Š Inventory System Dashboard</h1>
    <nav>
      <a href="index.html" class="active">Home</a>
      <a href="inventory.html">Inventory</a>
      <a href="documents.html">Documents</a>
      <a href="log.html">Activity Log</a>
      <a href="setting.html" style="text-decoration: none;"><button>âš™ï¸ Setting</button></a>
      <button onclick="toggleTheme()">ğŸŒ“ Mode</button>
      <button onclick="logout()">ğŸšª Logout</button>
      <div id="adminInfo">Logged in as: <span id="adminName"></span></div>
    </nav>
  </header>

  <section>
    <div class="dashboard-grid">
      <div class="dashboard-info">
        <h2>Welcome to Your Inventory Management System</h2>
        <p>Manage your products, track sales and purchases, generate reports, and organize your documents all in one place.</p>
        
        <div class="summary-cards" style="margin: 30px 0;">
          <div class="card card-total-value">
            <div class="card-icon">ğŸ“¦</div>
            <div class="card-content">
              <div class="card-title">Total Products</div>
              <div class="card-value" id="dash_totalItems">0</div>
            </div>
          </div>
          
          <div class="card card-total-revenue">
            <div class="card-icon">ğŸ’°</div>
            <div class="card-content">
              <div class="card-title">Inventory Value</div>
              <div class="card-value">RM <span id="dash_totalValue">0.00</span></div>
            </div>
          </div>
        </div>

        <h3>Quick Actions</h3>
        <div class="btn-group-horizontal" style="margin: 20px 0;">
          <a href="inventory.html" class="primary-btn btn-icon" style="text-decoration: none;">
            ğŸ“¦ Manage Inventory
          </a>
          <button onclick="openNewPurchaseModal()" class="success-btn btn-icon">
            ğŸ›’ New Purchase
          </button>
          <button onclick="openNewSalesModal()" class="warning-btn btn-icon">
            ğŸ’° New Sale
          </button>
          <button onclick="openReportModal()" class="info-btn btn-icon">
            ğŸ“„ Generate Report
          </button>
        </div>

        <h3>Recent Activities</h3>
        <div class="table-container">
          <table style="width: 100%;">
            <thead>
              <tr>
                <th>User</th>
                <th>Action</th>
                <th>Time</th>
              </tr>
            </thead>
            <tbody id="recentActivities">
              <!-- Recent activities will be populated here -->
            </tbody>
          </table>
        </div>
      </div>

      <div class="dashboard-card-container">
        <div class="info-card">
          <div class="clock" id="currentTime">Loading time...</div>
          <h3>System Overview</h3>
          <ul>
            <li><strong>Inventory Items:</strong> <span id="dash_totalStock">0</span> in stock</li>
            <li><strong>Potential Revenue:</strong> RM <span id="dash_totalRevenue">0.00</span></li>
            <li><strong>Potential Profit:</strong> RM <span id="dash_totalProfit">0.00</span></li>
            <li><strong>Last Updated:</strong> <span id="lastUpdateTime">Just now</span></li>
          </ul>
        </div>

        <a href="inventory.html" class="quick-access-btn" id="btn-inventory">
          ğŸ“¦ Inventory Management
        </a>
        
        <a href="documents.html" class="quick-access-btn" id="btn-documents">
          ğŸ“„ Document Center
        </a>

        <div class="info-card">
          <h3>Need Help?</h3>
          <p>Check out these resources:</p>
          <ul>
            <li>ğŸ“– <a href="#" style="color: var(--primary-color);">User Guide</a></li>
            <li>ğŸ¥ <a href="#" style="color: var(--primary-color);">Video Tutorials</a></li>
            <li>â“ <a href="#" style="color: var(--primary-color);">FAQ</a></li>
            <li>ğŸ“ <a href="#" style="color: var(--primary-color);">Contact Support</a></li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Include modals from inventory page for quick access -->
  <div id="newPurchaseModal" class="modal">
    <!-- Purchase modal content from inventory.html -->
  </div>

  <div id="newSalesModal" class="modal">
    <!-- Sales modal content from inventory.html -->
  </div>

  <div id="reportModal" class="modal">
    <!-- Report modal content from inventory.html -->
  </div>

  <!-- JS -->
  <script src="js/setting.js" defer></script>
  <script src="js/script.js" defer></script>
  <script>
    document.documentElement.dataset.page = 'index';
    
    // Update clock
    function updateClock() {
      const now = new Date();
      const timeString = now.toLocaleString('en-US', { 
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit'
      });
      if (document.getElementById('currentTime')) {
        document.getElementById('currentTime').textContent = timeString;
      }
    }
    
    // Update clock every second
    setInterval(updateClock, 1000);
    updateClock();
    
    // Update last update time
    if (document.getElementById('lastUpdateTime')) {
      document.getElementById('lastUpdateTime').textContent = new Date().toLocaleTimeString();
    }
  </script>
</body>
</html>
