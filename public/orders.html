<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Orders | Inventory System</title>
<link rel="stylesheet" href="css/style.css"/>
</head>

<body>

<header>
  <h1>ğŸ“¦ Orders</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="inventory.html">Inventory</a>
    <a href="documents.html">Documents</a>
    <a href="log.html">Activity Log</a>
    <a href="sales.html">Sales</a>
    <a class="active" href="orders.html">Orders</a>

    <a href="setting.html"><button>âš™ï¸ Setting</button></a>

    <button onclick="toggleTheme()">ğŸŒ“ Mode</button>
    <button onclick="logout()">ğŸšª Logout</button>

    <div id="adminInfo">Logged in as: <span id="adminName"></span></div>
  </nav>
</header>


<section class="orders-container">

  <h2>Order List</h2>

  <!-- Controls -->
  <div class="controls">

      <div class="search-controls">
        <input id="searchOrders" type="text" placeholder="ğŸ” Search customer / order no">
        <button id="clearOrdersSearchBtn" class="secondary-btn">Clear</button>
      </div>

      <div class="right">
        <button id="addOrderBtn" class="success-btn">+ Create Order</button>

        <button id="downloadOrdersXLSXBtnInline" class="primary-btn">â¬‡ï¸ Excel</button>
        <button id="downloadOrdersPDFBtn" class="secondary-btn">â¬‡ï¸ PDF</button>
      </div>

  </div>


  <!-- Orders Table -->
  <div class="table-container">
    <table id="ordersTable">
      <thead>
        <tr>
          <th>Order No.</th>
          <th>Customer</th>
          <th>Items</th>
          <th>Total (RM)</th>
          <th>Status</th>
          <th>Date</th>
          <th style="text-align:center;">Actions</th>
        </tr>
      </thead>
      <tbody id="ordersList"></tbody>
    </table>
  </div>

</section>


<!-- =========================================
       ADD / EDIT ORDER MODAL
========================================= -->
<div id="orderModal" class="modal" style="display:none;">
  <div class="modal-inner extra-wide-modal">

    <h3 id="orderModalTitle">Create New Order</h3>

    <label>Customer Name:</label>
    <input id="order_customer" placeholder="Enter customer name">

    <label>Status:</label>
    <select id="order_status" class="status-dropdown">
      <option value="Pending">Pending</option>
      <option value="Approved">Approved</option>
      <option value="Cancelled">Cancelled</option>
    </select>

    <hr>

    <h4>Order Items</h4>

    <div id="order_items_container"></div>
    <button id="addOrderItemBtn" class="secondary-btn" style="margin-top:10px;">+ Add Item</button>

    <h3 style="margin-top:20px;">Total: RM <span id="order_total_display">0.00</span></h3>

    <div class="modal-actions">
      <button id="saveOrderBtn" class="primary-btn">Save Order</button>
      <button id="orderModalClose" class="secondary-btn">Cancel</button>
    </div>

  </div>
</div>


<!-- Templates for Items (Injected by JS) -->
<div id="orderItemTemplate" style="display:none;">
  <div class="order-item-row" style="display:flex; gap:10px; margin-top:10px;">
    
    <input class="order_product_search" placeholder="Search product..." />

    <div class="dropdown-list order_dropdown" style="display:none;"></div>

    <input type="number" class="order_qty" placeholder="Qty" min="1" value="1" style="width:80px;">
    <input type="number" class="order_price" placeholder="Price" step="0.01" style="width:100px;">

    <button class="danger-btn removeItemBtn">ğŸ—‘ï¸</button>
  </div>
</div>


<script src="js/setting.js" defer></script>
<script src="js/script.js" defer></script>

</body>
</html>
